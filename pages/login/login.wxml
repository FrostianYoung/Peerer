<!--pages/login/login.wxml-->
<view class="loginPage">
  <view class="logo">
    <image src="/images/logo.png" style="box-shadow: none;"></image>
  </view>
  <view class="content">
    <view style="padding: 6px;">
      <view class="intro">Hi 🎐 欢迎来到Peer！</view>
      <view class="intro">Peer是云端的大学生社交圈</view>
      <view class="intro">
        <text style="margin-right: 4px;">在这里</text>
        <text>你能关联</text>
      </view>
      <view class="intro">
        <text class="tag" color="#6fa9e3">专业研究</text>
        <text class="tag" color="#6fa9e3">实习经历</text>
      </view>
      <view>
        <text class="tag" color="#6fa9e3">日常爱好</text>
        <text class="tag" color="#6fa9e3">未来规划</text>
        <text style="margin-left:4px;">相关的Peers</text>
      </view>
      <view class="intro">
        <text style="background-color: transparent;">欢迎成为种子用户\n</text>
        <text style="background-color: transparent;">结识志同道合的同龄人👥</text>
      </view>
    </view>
  </view>
  <view class="loginBtn" wx:if="{{!isPhoneLogin}}">
    <button open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber">微信登录</button>
    <button bindtap="showLogin">手机号登录</button>
  </view>
  <van-popup class="dialog" show="{{ show }}" closeable 
    round position="bottom" custom-style="height: 50%" 
    bind:close="onClose">
    <view class="loginPopup">
      <van-field 
        focus
        bind:input='getMobileInput'
        type="number"
        center clearable 
        label="手机号" placeholder="请填写手机号" 
        border="{{ false }}" use-button-slot>
        <van-button
          class="vfBtn"
          slot="button" 
          size="small"
          custom-style="width: 100rpx;"
          type="primary" bindtap="getCode">
          {{ codeText }}
        </van-button>
      </van-field>
      <van-field model:value="{{ code }}" 
      focus
      center clearable 
      bind:input="getCodeInput"
      type="number"
      label="验证码" placeholder="请填写验证码"
      border="{{ false }}"></van-field>
      <button class="loginPeer" bindtap="phoneLogin">
        <text style="margin-right:4px;">登录</text>
        <text style="font-weight:bold;">Peer</text>
        <text class="icon" style="margin-left:8px">→</text>
      </button>
    </view>
  </van-popup>
</view>